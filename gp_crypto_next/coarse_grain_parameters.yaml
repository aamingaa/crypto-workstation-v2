# rolling_window: 200   # 指定rolling_window窗口大小
rolling_window: 2000   # 指定rolling_window窗口大小
inverse_rolling_window: 200
freq: 15m    # 指定数据频率（用于读取原始数据）

sym: ETHUSDT    # 指定gplearn做训练的品种数据
y_train_ret_period: 8    # 预测未来1个粗粒度周期的收益（1×2h=2小时）
start_date_train: '2022-01-01'
end_date_train: '2025-01-01'
start_date_test: '2025-01-01'
end_date_test: '2025-10-01'
timeframe: '15m'
# data_dir: '/Volumes/Ext-Disk/data/futures/um/monthly/klines/ETHUSDT/15m'
data_dir: '/Users/aming/data/ETHUSDT/15m'
read_frequency: 'monthly'
# read_frequency: 'monthly'

# ===== 粗粒度特征 + 细粒度滚动配置 =====
# data_source: coarse_grain kline factor_visualize # 使用粗粒度特征方法
data_source: factor_visualize

# 粗粒度特征桶周期（2小时为基本单位）
coarse_grain_period: '2h'

# 特征回溯的粗粒度桶数量（8个2小时 = 16小时窗口）
feature_lookback_bars: 8

# 滚动步长（15分钟）
rolling_step: '15min'

# ===== 或者直接指定数据文件路径 =====
# file_path: '/path/to/your/data.feather'

include_categories: ['liq'] # ['liq', 'momentum', 'volatility', 'reversal', 'volume_price', 'impact', 'structure', 'moving_average', 'oscillator', 'bands', 'microcycle']
execution_mode: 'once'   # 'once' or 'loop'

# gp_settings:
#   population_size: 200
#   hall_of_fame: 100
#   n_components: 50
#   generations: 2
#   tournament_size: 8
#   const_range: null
#   init_depth: [2, 5]
#   metric: 'avg_sic'  # 'avg_pic', 'avg_sic', 'sharp', 'calmar', 'sharpe_fixed_threshold', 'sharpe_std_threshold', rolling_rank_sic
#   parsimony_coefficient: 0.0005
#   p_crossover: 0.8
#   p_subtree_mutation: 0.02
#   p_hoist_mutation: 0.02
#   p_point_mutation: 0.02
#   p_point_replace: 0.5
#   corrcoef_threshold: 0.8
#   n_jobs: -1


gp_settings:
  population_size: 2000
  hall_of_fame: 1000
  n_components: 500
  generations: 3
  tournament_size: 88
  const_range: null
  init_depth: [1, 3]
  metric: 'avg_sic'  # 'avg_pic', 'avg_sic', 'sharp', 'calmar', 'sharpe_fixed_threshold', 'sharpe_std_threshold', rolling_rank_sic
  parsimony_coefficient: 0.0005
  p_crossover: 0.8
  p_subtree_mutation: 0.02
  p_hoist_mutation: 0.02
  p_point_mutation: 0.02
  p_point_replace: 0.5
  corrcoef_threshold: 0.8
  n_jobs: -1


# gp_settings:
#   population_size: 20000
#   hall_of_fame: 10000
#   n_components: 5000
#   generations: 3
#   tournament_size: 888
#   const_range: null
#   init_depth: [2, 4]
#   metric: 'avg_sic'  # 'avg_pic', 'avg_sic', 'sharp', 'calmar', 'sharpe_fixed_threshold', 'sharpe_std_threshold'
#   parsimony_coefficient: 0.0005
#   p_crossover: 0.8
#   p_subtree_mutation: 0.02
#   p_hoist_mutation: 0.02
#   p_point_mutation: 0.02
#   p_point_replace: 0.5
#   corrcoef_threshold: 0.8
#   n_jobs: -1

